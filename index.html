<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clevertap 1123</title>
    <!-- Notification Push javascript file -->
   <!--<script src="/notificationPush.js"></script>-->
    <script type="text/javascript">
      var clevertap = {
        event: [],
        profile: [],
        account: [],
        onUserLogin: [],
        notifications: [],
        privacy: [],
      };
      // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard -> Settings page
      clevertap.account.push({ id: \"TEST-4W5-9RR-646Z\" });
     
     // clevertap.privacy.push({ useIP: true }); 
      
      clevertap.privacy.push({ optOut: false }); //set the flag to true, if the user of the device opts out of sharing their data
      
      (function () {
        var wzrk = document.createElement("script");
        wzrk.type = "text/javascript";
        wzrk.async = true;
        wzrk.src = ('https:' == document.location.protocol ? 'https://d2r1yp2w7bby2u.cloudfront.net' : 'http://static.clevertap.com') + '/js/clevertap.min.js';
        // wzrk.src = ('https:' == document.location.protocol ? 'https://d2r1yp2w7bby2u.cloudfront.net' : 'http://static.clevertap.com') + '/js/a.js';

//wzrk.src = 'https://www.unpkg.com/clevertap-web-sdk@1.9.2/clevertap.min.js';      

 var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(wzrk, s);
      })();
    </script>
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.1/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.9.1/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyA_Ogl_uvT3_b9isNPxr1QtwVYJ-CL0E3s",
        authDomain: "ctest2-4f342.firebaseapp.com",
        projectId: "ctest2-4f342",
        storageBucket: "ctest2-4f342",
        messagingSenderId: "68868130286",
        appId: "1:68868130286:web:13f41cf53427ffbb84faff",
        measurementId: "G-FGG4RYW3JL"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
    </script>

    <link rel="manifest" href="/manifest.json" />
    <style>
      #ctinboxdiv {
        position: absolute;
        top: 50px;
        right: 50px;
        cursor: pointer;
      }

      #ctinboxdiv img {
        width: 30px;
        height: 30px;
      }
    </style>
  </head>
  <body>
    <div id="ctinboxdiv">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS1xE3E2-aqM6p-gIyfTuRX3K-ZTaORndcmYA&s" alt="Bell Icon">
    </div>

    <h1>Web SDK Integration Test 3</h1>
    <!-- onUserLogin -->
   
    <!-- event -->
    <button id="event" onclick="pushEvent()">Push Event</button> <br><br>
    <button id="login" onclick="onuserlogin()">OnUserLogin</button><br><br>
    <button id="ipfalse" onclick="ipfalse()">IP FALSE</button><br><br>
    <button id="iptrue" onclick="iptrue()">IP TRUE</button><br><br>
    <button id="login" onclick="profilepush()">ProfilePush</button><br><br>
    <button id="loc" onclick="pushnotif()">Send Notification</button><br><br>
    <button id="ctid" onclick="showctid()">Show CT ID </button><br><br>
<!--      <button id="ctinboxdiv" > </button><br><br> -->
<!-- <button id="ctinboxdiv1" onclick"showctid()">request ip </button><br><br> -->
    <!-- <button id="ctid" onclick="clear()">Clear CT ID </button><br><br> -->
    <h2 id="test"> </h2>
    <script>
// clevertap.event.push("Page browse", {
//   "AgentID": navigator.userAgent,

// });

     
      let pushEvent = () => {
        clevertap.event.push("page load");
      };

      let ipfalse = () => {
        clevertap.privacy.push({ useIP: false }); 
        clevertap.event.push("useIP: false ");
      };

      let iptrue = () => {
        clevertap.privacy.push({ useIP: true }); 
        clevertap.event.push("useIP: true ");
      };

      let onuserlogin = () => {
        // clevertap.onUserLogin.push({
        //   "Site": {
        //     "Name": "div web",
        //     "Identity": 73737373,
        //     "Email": "73737373@gmail.com",
        //     "Gender": "M",
        //     "DOB": new Date(),
        //     "MSG-email": true,
        //     "MSG-push": true,
        //     "MSG-sms": true,
        //     "MSG-whatsapp": true,
        //   },
        // });

clevertap.event.push("Page Views");
      };

      let showctid = () => {
        var ctid = clevertap.getCleverTapID();
        document.getElementById("test").innerHTML = ctid;
      };
    </script>
    
    <!-- send notification event -->
    <br /><br />
    
    <script>
      let pushnotif = () => {
console.log("inside noti");
        clevertap.notifications.push({
          titleText: "Would you like to receive Notification?",
          bodyText: "Will send you only trusted notifications and updates",
          okButtonText: "OK",
          rejectButtonText: "Cancel",
          okButtonColor: "#F28046",
        });
      };
    </script>
  </body>
</html>
